<div id="content">
<h1 class="title">Spec (Assignment 1)</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org08e5838">1. Problem Statement</a>
<ul>
<li><a href="#orgc125cbe">1.1. Disclaimer and Limitation of Liability</a></li>
</ul>
</li>
<li><a href="#org0e4b112">2. Task</a>
<ul>
<li><a href="#org79a6a82">2.1. Counter with Java</a></li>
<li><a href="#org09e70c5">2.2. Counter with Promela</a></li>
<li><a href="#orgbe3aeb1">2.3. Document your work</a></li>
</ul>
</li>
<li><a href="#org8f73438">3. Deliverables</a></li>
<li><a href="#orgb068f5a">4. Submission</a></li>
<li><a href="#org18c5015">5. Free Advice</a></li>
</ul>
</div>
</div>
<p>
This assignment is worth 15% and is due before COB of Friday Week 7 (15th July, 18:00 Sydney Time).
</p>

<p>
<i>This assignment is to be done in pairs</i>. Individual submissions will be accepted but are highly discouraged.
</p>

<p>
Late submissions are accepted up to five days after the deadline, but
at a penalty: 5% off your total mark per day.
</p>

<div id="outline-container-org08e5838" class="outline-2">
<h2 id="org08e5838"><span class="section-number-2">1</span> Problem Statement</h2>
<div class="outline-text-2" id="text-1">
<p>
Consider a finite counter <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.446em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.45em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">c</script> that is updated by a single writer process and read by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;gt;</mo><mn>0</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-4" style="width: 2.712em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.318em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.48em, 1002.32em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-7" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">&gt;</span><span class="mn" id="MathJax-Span-8" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">R > 0</script> reader processes.
The counter consists of some parameter <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi><mo>&amp;gt;</mo><mn>1</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-9" style="width: 2.712em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.318em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.48em, 1002.22em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-10"><span class="mi" id="MathJax-Span-11" style="font-family: STIXGeneral-Italic;">B</span><span class="mo" id="MathJax-Span-12" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">&gt;</span><span class="mn" id="MathJax-Span-13" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi><mo>&gt;</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-3">B > 1</script> of bytes, meaning that <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-14" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.446em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.45em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-15"><span class="mi" id="MathJax-Span-16" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">c</script> ranges over <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn><mo>&amp;#x2026;</mo><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>8</mn><mi>B</mi></mrow></msup><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-17" style="width: 5.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.83em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.283em, 1004.73em, 2.613em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-18"><span class="mn" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-20" style="font-family: STIXGeneral-Regular; padding-left: 0.2em;">…</span><span class="msubsup" id="MathJax-Span-21" style="padding-left: 0.2em;"><span style="display: inline-block; position: relative; width: 1.382em; height: 0px;"><span style="position: absolute; clip: rect(3.155em, 1000.5em, 4.14em, -999.998em); top: -3.988em; left: 0em;"><span class="mn" id="MathJax-Span-22" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.993em;"></span></span><span style="position: absolute; top: -4.382em; left: 0.495em;"><span class="texatom" id="MathJax-Span-23"><span class="mrow" id="MathJax-Span-24"><span class="mn" id="MathJax-Span-25" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span class="mi" id="MathJax-Span-26" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 3.993em;"></span></span></span></span><span class="mo" id="MathJax-Span-27" style="font-family: STIXGeneral-Regular; padding-left: 0.249em;">−</span><span class="mn" id="MathJax-Span-28" style="font-family: STIXGeneral-Regular; padding-left: 0.249em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.226em; border-left: 0px solid; width: 0px; height: 1.317em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn><mo>…</mo><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>8</mn><mi>B</mi></mrow></msup><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-5">0\dots 2^{8B}-1</script>.
Both reads and writes of individual bytes are atomic operations. Unfortunately, there are no other concurrency primitives available.
No semaphores, no locks, no message passing, no monitors, no transactional memory. 
</p>

<p>
With each write, the counter is incremented by one, wrapping around at the end, so the effect of a write could be expressed as 
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mo>:=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>c</mi><mo>+</mo><mn>1</mn><mtext>&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext mathvariant=&quot;bold&quot;>mod</mtext></mrow><mtext>&amp;#xA0;</mtext><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>8</mn><mi>B</mi></mrow></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-29" style="width: 9.658em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.328em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.48em, 1008.28em, 2.86em, -999.998em); top: -2.51em; left: 0em;"><span class="mrow" id="MathJax-Span-30"><span class="mi" id="MathJax-Span-31" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-32" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">:<span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">=</span></span><span class="mo" id="MathJax-Span-33" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">(</span><span class="mi" id="MathJax-Span-34" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-35" style="font-family: STIXGeneral-Regular; padding-left: 0.249em;">+</span><span class="mn" id="MathJax-Span-36" style="font-family: STIXGeneral-Regular; padding-left: 0.249em;">1</span><span class="mtext" id="MathJax-Span-37" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="texatom" id="MathJax-Span-38"><span class="mrow" id="MathJax-Span-39"><span class="mtext" id="MathJax-Span-40" style="font-family: STIXGeneral; font-weight: bold;">mod</span></span></span><span class="mtext" id="MathJax-Span-41" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="msubsup" id="MathJax-Span-42"><span style="display: inline-block; position: relative; width: 1.382em; height: 0px;"><span style="position: absolute; clip: rect(3.155em, 1000.5em, 4.14em, -999.998em); top: -3.988em; left: 0em;"><span class="mn" id="MathJax-Span-43" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.993em;"></span></span><span style="position: absolute; top: -4.382em; left: 0.495em;"><span class="texatom" id="MathJax-Span-44"><span class="mrow" id="MathJax-Span-45"><span class="mn" id="MathJax-Span-46" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span class="mi" id="MathJax-Span-47" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 3.993em;"></span></span></span></span><span class="mo" id="MathJax-Span-48" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.515em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.283em; border-left: 0px solid; width: 0px; height: 1.317em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mo>:=</mo><mo stretchy="false">(</mo><mi>c</mi><mo>+</mo><mn>1</mn><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mtext mathvariant="bold">mod</mtext></mrow><mtext>&nbsp;</mtext><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>8</mn><mi>B</mi></mrow></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-6">c := (c + 1\ \textbf{mod}\ 2^{8B})</script>. Readers have the difficult task to read a correct counter value by performing reads of 
individual counter bytes. A counter value <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>v</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-49" style="width: 0.594em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.495em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.5em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-50"><span class="mi" id="MathJax-Span-51" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">v</script> read by a reader <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-52" style="width: 0.397em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.347em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.35em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-53"><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">r</script> is considered <i>correct</i> if <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>v</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-55" style="width: 0.594em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.495em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.5em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-56"><span class="mi" id="MathJax-Span-57" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">v</script> is actually assumed by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-58" style="width: 0.544em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.446em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.45em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-59"><span class="mi" id="MathJax-Span-60" style="font-family: STIXGeneral-Italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">c</script>
during the time interval while the counter is being read by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-61" style="width: 0.397em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.347em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1000.35em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-62"><span class="mi" id="MathJax-Span-63" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.631em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">r</script>. 
</p>

<p>
No process should ever block anyone from doing anything.
</p>
</div>

<div id="outline-container-orgc125cbe" class="outline-3">
<h3 id="orgc125cbe"><span class="section-number-3">1.1</span> Disclaimer and Limitation of Liability</h3>
<div class="outline-text-3" id="text-1-1">
<p>
A reader being so slow during a single read that the counter goes through the full sequence of possible counter values (<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn><mo>&amp;#x2026;</mo><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>8</mn><mi>B</mi></mrow></msup><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-64" style="width: 5.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.83em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.283em, 1004.73em, 2.613em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-65"><span class="mn" id="MathJax-Span-66" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-67" style="font-family: STIXGeneral-Regular; padding-left: 0.2em;">…</span><span class="msubsup" id="MathJax-Span-68" style="padding-left: 0.2em;"><span style="display: inline-block; position: relative; width: 1.382em; height: 0px;"><span style="position: absolute; clip: rect(3.155em, 1000.5em, 4.14em, -999.998em); top: -3.988em; left: 0em;"><span class="mn" id="MathJax-Span-69" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.993em;"></span></span><span style="position: absolute; top: -4.382em; left: 0.495em;"><span class="texatom" id="MathJax-Span-70"><span class="mrow" id="MathJax-Span-71"><span class="mn" id="MathJax-Span-72" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">8</span><span class="mi" id="MathJax-Span-73" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span></span></span><span style="display: inline-block; width: 0px; height: 3.993em;"></span></span></span></span><span class="mo" id="MathJax-Span-74" style="font-family: STIXGeneral-Regular; padding-left: 0.249em;">−</span><span class="mn" id="MathJax-Span-75" style="font-family: STIXGeneral-Regular; padding-left: 0.249em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.226em; border-left: 0px solid; width: 0px; height: 1.317em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn><mo>…</mo><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mn>8</mn><mi>B</mi></mrow></msup><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-12">0\dots 2^{8B}-1</script>) may 
return any value. Having said that, this escape clause is not to be abused to implement readers poorly (e.g. by waiting for the most significant byte 
to go through a full cycle). Readers should make every attempt to get hold of a correct value as soon as possible. Thus we require that, under weak fairness,
reads complete eventually even if writes subside.
</p>
</div>
</div>
</div>

<div id="outline-container-org0e4b112" class="outline-2">
<h2 id="org0e4b112"><span class="section-number-2">2</span> Task</h2>
<div class="outline-text-2" id="text-2">
<p>
Solve the problem stated above by designing a shared-variable concurrent algorithm. State your assumptions precisely. Argue why your assumptions are necessary.
Implement your solution in Java using Java threads and <b>no other concurrency constructs</b> (e.g. no semaphores, monitor constructs, no synchronized methods, no <code>java.util.concurrent.atomic</code>, no nothing). 
Encode the core algorithm and relevant requirements in Promela so that you can run simulations and maybe even verify that the requirements are satisfied for 
sufficiently small values of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-76" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-77"><span class="mi" id="MathJax-Span-78" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">R</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-79" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-80"><span class="mi" id="MathJax-Span-81" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">B</script>. Using formal and semi-formal reasoning, demonstrate the correctness of your algorithm. Write a compelling report
on all that you've done.
</p>
</div>

<div id="outline-container-org79a6a82" class="outline-3">
<h3 id="org79a6a82"><span class="section-number-3">2.1</span> Counter with Java</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Design and implement a simulation of your algorithmic solution. It should take <b>three</b> command line arguments to determine the number <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-82" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-83"><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">R</script>, the number <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-85" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-86"><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-16">B</script> and 
the number <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-88" style="width: 0.594em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.495em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.48em, 1000.5em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-89"><span class="mi" id="MathJax-Span-90" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-17">k</script> of rounds (of writing, resp. reading) each process should perform. Use <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi><mo>=</mo><mn>0</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-91" style="width: 2.515em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.17em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.48em, 1002.17em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-92"><span class="mi" id="MathJax-Span-93" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-94" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">=</span><span class="mn" id="MathJax-Span-95" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-18">k = 0</script> as a special case to loop indefinitely. Each process should be modelled
as a separate thread. 
</p>

<p>
You cannot use any synchronization primitives such as monitors, synchronized methods, locks, semaphores etc. 
There's one exception: you <b>can</b>, and probably should, declare shared variables as <code>volatile</code>.
Use neither timers nor time-outs to artificially slow down
processes.
</p>

<p>
Don't worry about weak memory. That is, you may write your program as if
reads and writes to e.g. array cells was sequentially consistent.
</p>
</div>
</div>

<div id="outline-container-org09e70c5" class="outline-3">
<h3 id="org09e70c5"><span class="section-number-3">2.2</span> Counter with Promela</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Model your solution with two <code>#define</code> statements for the two parameters <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-96" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-97"><span class="mi" id="MathJax-Span-98" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-19">R</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-99" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-100"><span class="mi" id="MathJax-Span-101" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-20">B</script>. Attempt to verify that your model satisfies requirements for small parameter values.
It suffices to model the case where all processes loop infinitely (<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi><mo>=</mo><mn>0</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-102" style="width: 2.515em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.17em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.48em, 1002.17em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-103"><span class="mi" id="MathJax-Span-104" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-105" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">=</span><span class="mn" id="MathJax-Span-106" style="font-family: STIXGeneral-Regular; padding-left: 0.298em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.917em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-21">k = 0</script> in the previous task).
</p>
</div>
</div>

<div id="outline-container-orgbe3aeb1" class="outline-3">
<h3 id="orgbe3aeb1"><span class="section-number-3">2.3</span> Document your work</h3>
<div class="outline-text-3" id="text-2-3">
<p>
First of all, make it worth reading — we are neither counters nor robots. Begin with a short summary of what you've achieved. Then, elaborate on your achievements,
e.g. by explaining how your algorithm works, what limitations you have encountered and implemented. Also explain precisely how to reproduce your findings.
</p>

<p>
All text should be typeset, preferably with LaTeX. Diagrams may be hand-drawn. Your report must contain the names and student numbers of <b>both partners</b>  near the top of the document.
</p>
</div>
</div>
</div>


<div id="outline-container-org8f73438" class="outline-2">
<h2 id="org8f73438"><span class="section-number-2">3</span> Deliverables</h2>
<div class="outline-text-2" id="text-3">
<dl class="org-dl">
<dt>Counter.java</dt><dd>Your Java solution, with a class called <code>Counter</code> that contains a <code>public static void main(String[] args)</code> method that can be invoked from a compiled binary. This method should accept the three command line arguments documented above. You may, at your option, also submit other Java files. All Java files will be compiled with the command <code>javac *.java</code> and executed with commands like <code>java Counter 3 2 7000</code> to run a 3 reader, 2 byte counter for 70000 rounds (ensuring a wrap-around). Do not put any classes inside a package, leave them in the implicit top-level package.</dd>
<dt>counter.pml</dt><dd>Your Promela model, including any LTL formulae you may use for verification.</dd>
<dt>counter.pdf</dt><dd>Your nicely typeset document containing, at the very least, your student numbers.</dd>
<dt>partner.txt</dt><dd>A file with a single line on the format <code>z&lt;digits&gt;</code>. This must be the zID of your group partner. For individual submissions, write your own zID.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgb068f5a" class="outline-2">
<h2 id="orgb068f5a"><span class="section-number-2">4</span> Submission</h2>
<div class="outline-text-2" id="text-4">
<p>
<b>Only one member of the pair should submit. Work out who will submit ahead of time. Duplicate submissions are extremely annoying to sort out!</b>
</p>

<p>
Submit your work by typing:
</p>

<div class="org-src-container">
<pre class="src src-sh">give cs3151 assn1 Counter.java counter.pml counter.pdf partner.txt
</pre>
</div>

<p>
Add any other Java files you wish to submit to that line.
</p>
</div>
</div>

<div id="outline-container-org18c5015" class="outline-2">
<h2 id="org18c5015"><span class="section-number-2">5</span> Free Advice</h2>
<div class="outline-text-2" id="text-5">
<p>
I caution you against assigning one group member to write Java code, and the other to write Promela code, without first
<b>together</b> devising a solution to the stated problem.
The purpose of the partnership is to provide you with someone with whom you can discuss candidate solutions and 
derive a solution together. This assignment is not easily compartmentalised into separate tasks, at least not before a solution 
is found.
</p>

<p>
Coming up with process descriptions for the writer and the readers may prove to be elusive, at
least for a few days of thinking about this. As a first step, try solve the problem for a counter
that does not wrap around.
</p>

<p>
<i>Hint</i>: To save you some time, here's something that does not work at all for any of the processes:
write (read) the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-107" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-108"><span class="mi" id="MathJax-Span-109" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-22">B</script> bytes in a fixed order, once. Three choices were made: using just <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-110" style="width: 0.84em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.692em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.53em, 1000.69em, 2.466em, -999.998em); top: -2.313em; left: 0em;"><span class="mrow" id="MathJax-Span-111"><span class="mi" id="MathJax-Span-112" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.318em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.054em; border-left: 0px solid; width: 0px; height: 0.86em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-23">B</script> bytes to
represent the counter, reading and writing them in the same fixed order, and reading/writing
each byte just once. Perhaps reconsider them all.
</p>

<p>
<i>Hint</i>: This is meant to be a challenge, and we mark it accordingly.
Incorrect solutions don't give full marks obviously, but we do award
partial marks based on how promising the attempt is and how well the
attempt is written, presented and understood.
</p>
</div>
</div>
</div>