<html>
<head>
<title>COMP3311 Week 1 Tuesday Lecture</title>
<link href='lib/slides.css' rel='stylesheet' type='text/css'>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async></script>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
<link href='lib/prism.css' rel='stylesheet'>
<script src='lib/sg.js'></script>
</head>
<body>
 <DIV class='slideCl1' id="s0"  >
<div class='navCl1'><a href="#s1"><span class='nextArrowCl'>>></span></a> </div> <div class='heading'>COMP3311 Week 1 Tuesday Lecture</div><p><ul class='indexUl'  style='font-size: 0.7em;'><li class="i"> <a href="#s1">In today's lecture ...</a>
<li class="i"> <a href="#s2">Reminders</a>
<li class="i"> <a href="#s3">ER Model (recap)</a>
<li class="i"> <a href="#s6">N:M Relationships</a>
<li class="i"> <a href="#s7">1:N Relationships</a>
<li class="i"> <a href="#s8">1:1 Relationships</a>
<li class="i"> <a href="#s9">Class Hierarchies</a>
<li class="i"> <a href="#s10">Exercise: Student/Lecturer Class Hierarchy</a>
<li class="i"> <a href="#s11">Developing ER Models</a>
<li class="i"> <a href="#s12">Exercise: Medical Information</a>
<li class="i"> <a href="#s13">Exercise: Book Publishing Scenario</a>
<li class="i"> <a href="#s14">Data Models</a>
<li class="i"> <a href="#s15">Relational Model</a>
<li class="i"> <a href="#s17">Exercise: ER-to-relational Mapping</a>
</ul></DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [0/17]</div> <DIV class='slideCl1    ' id="s1"  >
<div class='navCl1'> <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s2"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; In today's lecture ...</div></td><td align='right'></td></tr></table>
<p>
<br>
<ul>
<li> Entity-Relationship (ER) Model (cont)
<li> Relational Model
<li> SQL Data Definition Language (DDL)
<li> Mapping ER &rarr; SQL
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [1/17]</div> <DIV class='slideCl1    ' id="s2"  >
<div class='navCl1'><a href="#s1"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s3"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Reminders</div></td><td align='right'></td></tr></table>
<p>
Using PostgreSQL on &nbsp;<large><code>vxdb2</code></large> ...
<ul>
<li> <large><code>ssh</code></large>&nbsp; to &nbsp;<large><code>vxdb2</code></large>
<li> set up environment (<large><code>PGDATA</code></large>)
<li> start PostgreSQL server &nbsp;<large><code>p1</code></large>
<li> ... play with PostgreSQL ...
<li> stop PostgreSQL server &nbsp;<large><code>p0</code></large>
</ul>
Lectures ... see Lecture Material link
<ul>
<li> Slides ... available before lecture
<li> Video ... available > 3 hours after lecture &nbsp; <small>(Echo360, YouTube)</small>
<li> Data ... what I do in the exercises, available after lecture
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [2/17]</div> <DIV class='slideCl1    ' id="s3"  >
<div class='navCl1'><a href="#s2"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s4"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; ER Model (recap)</div></td><td align='right'></td></tr></table>
<p>
ER models give a visual representation of database structure
<p>
Primary components
<ul>
<li> Entities = objects of interest in the scenario
<li> Relationships = associations between entities
<li> Attributes = properties of entities
</ul>
ER models don't capture all information from the scenario
<ul>
<li> e.g. types and constraints on attribute values
</ul>
<p>
ER models are useful as a step towards an SQL <font color='#0000BB'>schema</font>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [3/17]</div> <DIV class='slideCl1    ' id="s4"  >
<div class='navCl1'><a href="#s3"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s5"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; ER Model (recap) <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
ER design elements:
<p>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/er-symbols.png]" src="Pics/er-rel/er-symbols.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [4/17]</div> <DIV class='slideCl1    ' id="s5"  >
<div class='navCl1'><a href="#s4"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s6"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; ER Model (recap) <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Relationships:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/cardinal.png]" src="Pics/er-rel/cardinal.png">
</div><p>
<p><br>
Thick line = total participation; &nbsp; thin line = partial participation
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [5/17]</div> <DIV class='slideCl1    ' id="s6"  >
<div class='navCl1'><a href="#s5"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s7"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; N:M Relationships</div></td><td align='right'></td></tr></table>
<p>
<br>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/relNM.png]" src="Pics/er-rel/relNM.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [6/17]</div> <DIV class='slideCl1    ' id="s7"  >
<div class='navCl1'><a href="#s6"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s8"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; 1:N Relationships</div></td><td align='right'></td></tr></table>
<p>
<br>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/rel1N.png]" src="Pics/er-rel/rel1N.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [7/17]</div> <DIV class='slideCl1    ' id="s8"  >
<div class='navCl1'><a href="#s7"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s9"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; 1:1 Relationships</div></td><td align='right'></td></tr></table>
<p>
<br>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/rel11.png]" src="Pics/er-rel/rel11.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [8/17]</div> <DIV class='slideCl1    ' id="s9"  >
<div class='navCl1'><a href="#s8"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s10"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Class Hierarchies</div></td><td align='right'></td></tr></table>
<p>
ER also implements super-class / sub-class hierarchies
<ul>
<li> both super- and sub-classes consist of entities
<li> super-class has common properties of all entities in hierarchy
<li> sub-classes <i>can</i> add extra properties to specialise
<li> entities in super-class <i>may</i> have corresponding entities in sub-class
<li> sub-classes can be
<ul>
<li> <font color='#0000BB'>disjoint</font> ... entities are members of only one sub-class
<li> <font color='#0000BB'>overlapping</font> ... entities can be members of several sub-classes
</ul>
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [9/17]</div> <DIV class='slideCl1    ' id="s10"  >
<div class='navCl1'><a href="#s9"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s11"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Exercise: Student/Lecturer Class Hierarchy</div></td><td align='right'></td></tr></table>
<p>
<br>
Modify the minimal ER class hierachy to represent
<ul>
<li> some people in the database are students or lecturers
<li> all people in the database are students or lecturers
<li> all people in the database are students XOR lecturers
<li> some people in the database are students XOR lecturers
</ul>
<img align="right" src="exercises/stu-lec.png">
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [10/17]</div> <DIV class='slideCl1    ' id="s11"  >
<div class='navCl1'><a href="#s10"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s12"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Developing ER Models</div></td><td align='right'></td></tr></table>
<p>
<br>
A complete ER model should ...
<ul>
<li> include all entities and their attributes
<li> identify key attributes
<li> capture accurate semantics for all relationships
<li> include class hierarchies where appropriate
</ul>
There are frequently different kinds of people (&rArr; sub-classes)
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [11/17]</div> <DIV class='slideCl1    ' id="s12"  >
<div class='navCl1'><a href="#s11"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s13"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Exercise: Medical Information</div></td><td align='right'></td></tr></table>
<p>
Develop an ER model for the following scenario:
<p>
<small>
<ul>
<li> Patients are identified by an SSN, and their names, addresses and ages
must be recorded.
<li> Doctors are identified by an SSN. For each doctor, the name, specialty
and years of experience must be recorded.
<li> A pharmacist is identified by an SSN, he/she can only work for one
pharmacy. For each pharmacist, their name must be recorded.
<li> Each pharmacy has a name, address and phone number. A pharmacy must have
a manager, who is a pharmacist.
<li> For each drug, the trade name and formula must be recorded.
<li> Every patient has a primary physician. Every doctor has at least one
patient. 
<li> Each pharmacy sells several drugs, and has a price for each. A drug
could be sold at several pharmacies, and the price could vary between
pharmacies.
<li> Doctors prescribe drugs for patients. A doctor could prescribe one or
more drugs for several patients, and a patient could obtain prescriptions
from several doctors. Each prescription has a date and quantity associated
with it.
</ul>
</small>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [12/17]</div> <DIV class='slideCl1    ' id="s13"  >
<div class='navCl1'><a href="#s12"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s14"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Exercise: Book Publishing Scenario</div></td><td align='right'></td></tr></table>
<p>
Develop an ER model for the following scenario:
<small>
<ul>
<li> for each person, we need to record their tax file number (TFN),
        their real name, and their address
<li> authors write books, and may publish books using a "pen-name"
        (a name, different to their real name, which they use as author of books);
		they may use mutiple pen-names
<li> editors ensure that books are written in a manner that is
        suitable for publication
<li> every editor works for just one publisher
<li> editors and authors have quite different skills; someone who is
        an editor cannot be an author, and vice versa
<li> a book may have several authors, just one author, or no authors
        (published anonymously)
<li> every book has one editor assigned to it, who liaises with the
        author(s) in getting the book ready for publication
<li> each book has a title, and an edition number (e.g. 1st, 2nd, 3rd)
<li> each published book is assigned a unique 13-digit number (its ISBN);
        different editions of the same book will have different ISBNs
<li> publishers are companies that publish (market/distribute) books
<li> each publisher is required to have a unique
        Australian business number (ABN)
<li> a publisher also has a name and address that need to be recorded
<li> a particular edition of a book is published by exactly one publisher
</ul>
</small>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [13/17]</div> <DIV class='slideCl1    ' id="s14"  >
<div class='navCl1'><a href="#s13"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s15"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Data Models</div></td><td align='right'></td></tr></table>
<p>
Entity-relationship (ER) model
<ul>
<li> world is modelled via entities, relationships, attributes
</ul>
Relational model
<ul>
<li> world is modelled via tuples, relations, constraints
</ul>
SQL schemas
<ul>
<li> a good approximation of the relational model
</ul>
<br>
Also ODL, UML, and a variety of others ... but not in this course.
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [14/17]</div> <DIV class='slideCl1    ' id="s15"  >
<div class='navCl1'><a href="#s14"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s16"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Model</div></td><td align='right'></td></tr></table>
<p>
<font color='#0000BB'>Tuples</font> are collections of values &nbsp; <small>(cf. Python tuples, C &nbsp;structs)</small>
<ul>
<li> e.g. &nbsp; (1234567, John Smith, BE, SENG, 75.2)
</ul>
<font color='#0000BB'>Relations</font> are sets of tuples
<ul>
<li> e.g. &nbsp; {  (1,2,3), (3,2,1), (1,3,5), (2,4,6) }
</ul>
<font color='#0000BB'>Constraints</font> are logical statements on valid data
<ul>
<li> e.g. &nbsp; zID is unique &nbsp; and &nbsp; 0 &le; WAM &le; 100
</ul>
Tuples correspond to entities
<p>
Relations correspond to entity sets <i>and</i>&nbsp; relationships
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [15/17]</div> <DIV class='slideCl1    ' id="s16"  >
<div class='navCl1'><a href="#s15"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s17"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Model <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
<br>
Different kinds of constraints
<ul>
<li> <font color='#0000BB'>unique</font> = value of attribute is unique in relation
<li> <font color='#0000BB'>key</font> = chosen unique attribute to distinguish tuples
<li> <font color='#0000BB'>domain</font> = type of attribute, restrictions within type
<li> <font color='#0000BB'>referential integrity</font> = foreign key
<ul>
<li> tuple in relation R has attribute F 
<li> whose value corresponds to key attribute K in relation S
</ul>
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [16/17]</div> <DIV class='slideCl1    ' id="s17"  >
<div class='navCl1'><a href="#s16"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>   </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Exercise: ER-to-relational Mapping</div></td><td align='right'></td></tr></table>
<p>
Convert this ER model to a relational model
<p>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/enrolments.png]" src="Pics/er-rel/enrolments.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 22T3 &#9826; Week 1 Tuesday Lecture &#9826; [17/17]</div><p><hr><p>
<span style='font-size:11px;color: grey;'>Produced: 17 Feb 2023</span>
 <script src='lib/prism.js'></script>   
 <script src='lib/sg.js'></script>   
</body>
</html>
